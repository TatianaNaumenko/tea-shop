"use strict";(self.webpackChunktea_shop_hw22=self.webpackChunktea_shop_hw22||[]).push([[550],{550:(M,c,o)=>{o.r(c),o.d(c,{ProductsModule:()=>L});var r=o(6895),s=o(646),t=o(8256),l=o(2845);function g(e,n){1&e&&(t.TgZ(0,"div",1),t._UZ(1,"div",2),t.qZA())}let d=(()=>{class e{constructor(){this.isLoading=!1}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","loader-bg",4,"ngIf"],[1,"loader-bg"],[1,"loader"]],template:function(a,i){1&a&&t.YNc(0,g,2,0,"div",0),2&a&&t.Q6J("ngIf",i.isLoading)},dependencies:[r.O5],styles:[".loader-bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}.loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #076bff;border-right:16px solid #007bff;border-radius:50%;width:100px;height:100px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();const p=function(e){return["/catalog/tea-details",e]};let m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["tea-card"]],inputs:{teaCard:"teaCard"},decls:10,vars:6,consts:[[1,"card-container"],[1,"card"],["alt","tea",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","my-style__btn-card",3,"routerLink"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"h5",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.qZA(),t.TgZ(8,"a",6),t._uU(9,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()),2&a&&(t.xp6(2),t.s9C("src",i.teaCard.image,t.LSH),t.xp6(3),t.Oqu(i.teaCard.title),t.xp6(2),t.hij("",i.teaCard.price," \u0440\u0443\u0431."),t.xp6(1),t.Q6J("routerLink",t.VKq(4,p,i.teaCard.id)))},dependencies:[s.yS],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-self:center;text-align:center}.card-title[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;font-weight:700}.card-img-top[_ngcontent-%COMP%]{width:70%}.card-text[_ngcontent-%COMP%]{font-size:18px;font-weight:400;line-height:24px;margin-top:12px;margin-bottom:25px}"]}),e})();function f(e,n){1&e&&(t.TgZ(0,"h1",5),t._uU(1,"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"),t.qZA())}function h(e,n){if(1&e&&(t.TgZ(0,"h1",5),t._uU(1),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.hij(' \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',a.searchQuery,'" ')}}function C(e,n){if(1&e&&(t.TgZ(0,"h1",5),t._uU(1),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.hij(' \u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',a.searchQuery,'" ')}}function x(e,n){1&e&&t._UZ(0,"tea-card",6),2&e&&t.Q6J("teaCard",n.$implicit)}let T=(()=>{class e{constructor(a,i,u){this.TeaCatalogService=a,this.router=i,this.route=u,this.teaCatalog=[],this.isLoading=!1,this.subscriptionTeaCtalogService=null,this.subscriptionQuertParams=null,this.filteredTeas=[],this.searchQuery=""}ngOnInit(){this.isLoading=!0,this.loadTeaCatalog(),this.subscriptionQuertParams=this.route.queryParams.subscribe(a=>{this.searchQuery=a.search||"",this.filterTeas()})}loadTeaCatalog(){this.subscriptionTeaCtalogService=this.TeaCatalogService.getTeaCatalog().subscribe({next:a=>{this.teaCatalog=a,this.filterTeas(),this.isLoading=!1},error:a=>{this.router.navigate(["/"]),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430",a),this.isLoading=!1}})}filterTeas(){this.searchQuery?(this.filteredTeas=this.teaCatalog.filter(a=>a.title.toLowerCase().includes(this.searchQuery.toLowerCase())),console.log(this.filteredTeas)):this.filteredTeas=this.teaCatalog}ngOnDestroy(){this.subscriptionTeaCtalogService?.unsubscribe(),this.subscriptionQuertParams?.unsubscribe()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(l.d),t.Y36(s.F0),t.Y36(s.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["catalog-component"]],decls:7,vars:5,consts:[[1,"tea-collection","d-flex","flex-column","min-vh-100"],["class","h1",4,"ngIf"],[1,"tea-collection-items"],["class","tea-card",3,"teaCard",4,"ngFor","ngForOf"],[3,"isLoading"],[1,"h1"],[1,"tea-card",3,"teaCard"]],template:function(a,i){1&a&&(t.TgZ(0,"section",0),t.YNc(1,f,2,0,"h1",1),t.YNc(2,h,2,1,"h1",1),t.YNc(3,C,2,1,"h1",1),t.TgZ(4,"div",2),t.YNc(5,x,1,1,"tea-card",3),t.qZA(),t._UZ(6,"app-loader",4),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngIf",!i.searchQuery),t.xp6(1),t.Q6J("ngIf",i.searchQuery&&i.filteredTeas.length>0),t.xp6(1),t.Q6J("ngIf",0===i.filteredTeas.length&&i.searchQuery),t.xp6(2),t.Q6J("ngForOf",i.filteredTeas.length>0?i.filteredTeas:i.teaCatalog),t.xp6(1),t.Q6J("isLoading",i.isLoading))},dependencies:[r.sg,r.O5,d,m],styles:[".tea-collection[_ngcontent-%COMP%]{max-width:1400px;margin:72px auto 25px}.tea-collection-items[_ngcontent-%COMP%]{margin-top:50px;display:grid;grid-template-columns:repeat(3,1fr);gap:20px}tea-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"]}),e})();var _=o(6275);function y(e,n){if(1&e&&(t.TgZ(0,"div",9),t._UZ(1,"img",10),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.s9C("src",a.teaCard.image,t.LSH)}}function v(e,n){1&e&&t._UZ(0,"img",11)}const b=[{path:"",component:T},{path:"tea-details/:id",component:(()=>{class e{constructor(a,i,u,P){this.teaCatalogService=a,this.route=i,this.activateRoute=u,this.teaDataService=P,this.isLoading=!1,this.teaCard={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){this.isLoading=!0,this.activateRoute.params.subscribe(a=>{a.id&&this.teaCatalogService.getTeaDetails(+a.id).subscribe({next:i=>{this.teaCard=i,this.teaDataService.setTeaCard(this.teaCard),this.isLoading=!1},error:i=>{this.route.navigate(["/"])}})})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(l.d),t.Y36(s.F0),t.Y36(s.gz),t.Y36(_.d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["tea-details"]],decls:14,vars:7,consts:[[1,"container","d-flex","flex-column","min-vh-100"],[1,"tea"],["class","tea-image",4,"ngIf","ngIfElse"],["defaultImageBlock",""],[1,"tea-title","mb-2"],[1,"mb-2","tea-price"],[1,"tea-description","mb-4","text-center"],[1,"btn","my-style__btn-card",3,"routerLink"],[3,"isLoading"],[1,"tea-image"],["alt","Tea",1,"img-fluid",3,"src"],["src","/assets/images/image 1.png","alt","Tea",1,"img-fluid"]],template:function(a,i){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,y,2,1,"div",2),t.YNc(3,v,1,0,"ng-template",null,3,t.W1O),t.TgZ(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.qZA(),t.TgZ(9,"div",6),t._uU(10),t.qZA(),t.TgZ(11,"a",7),t._uU(12,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()(),t._UZ(13,"app-loader",8)),2&a){const u=t.MAs(4);t.xp6(2),t.Q6J("ngIf",i.teaCard.image)("ngIfElse",u),t.xp6(4),t.Oqu(i.teaCard.title),t.xp6(2),t.hij("",i.teaCard.price," \u0440."),t.xp6(2),t.Oqu(i.teaCard.description),t.xp6(1),t.Q6J("routerLink","/order"),t.xp6(2),t.Q6J("isLoading",i.isLoading)}},dependencies:[r.O5,s.yS,d],styles:[".container[_ngcontent-%COMP%]{min-height:100vh}.tea[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box;margin:auto;display:flex;justify-content:center;align-items:center;flex-direction:column;height:100vh;text-align:center;padding:20px;gap:5px}.tea-image[_ngcontent-%COMP%]{border-radius:50%;max-width:500px;max-height:500px;display:flex;justify-content:center;align-items:center;animation:spin 70s linear infinite}.tea-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100%;height:auto}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tea[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:500px}.tea-title[_ngcontent-%COMP%]{font-family:Arial Narrow,sans-serif;font-size:20px;font-weight:700}.tea-description[_ngcontent-%COMP%]{width:100%}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(b),s.Bz]}),e})();var O=o(4466);let L=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,Z,O.m]}),e})()}}]);